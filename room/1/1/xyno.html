<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEAK: Rapport Deborsu-OuaisFieu - Analyse de la Fraude Sociale</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Courier+Prime:wght@400;700&display=swap" rel="stylesheet">

    <!-- Chosen Palette: "Energetic & Playful" (High Contrast for 'Alert' feel) -->
    <!-- Primary Blue: #2563EB (Authority) -->
    <!-- Alert Red: #DC2626 (Violation) -->
    <!-- Warning Yellow: #FBBF24 (Highlight) -->
    <!-- Dark Background: #111827 (Deep State) -->
    <!-- Light Background: #F3F4F6 (Paper) -->

    <!-- Application Structure Plan:
         Theme: "Modern Leaked Dashboard". A clean, high-tech, yet slightly bureaucratic aesthetic.
         1. Header: "Confidential" branding, navigation.
         2. Hero: The "Leak" Context - setting the satirical tone.
         3. Section 1 (Overview): The 99.9% Stat (Donut Chart) + KPIs. Goal: Inform.
         4. Section 2 (The Offenses): Breakdown of absurd crimes (Bar Chart). Goal: Compare.
         5. Section 3 (Temporal Analysis): Productivity vs. "Fraud" over a workday (Line Chart). Goal: Change.
         6. Section 4 (Regional Analysis): Flanders vs Wallonia vs Brussels habits (Stacked Bar). Goal: Compare.
         7. Section 5 (The Evidence): Interactive Card Grid of specific infractions. Goal: Organize.
         8. Section 6 (Audit): Interactive Quiz. Goal: Engagement.
    -->

    <!-- Visualization & Content Choices:
         1. Global Fraud Rate -> Inform -> Donut Chart -> High impact visual of the majority.
         2. Top Infractions -> Compare -> Horizontal Bar Chart -> Readable labels for long crime names (Label wrapping applied).
         3. Daily "Crime" Timeline -> Change -> Line Chart -> Shows trends over the workday (coffee breaks).
         4. Regional Distribution -> Compare -> Stacked Bar -> Compares 3 regions across crime categories.
         5. Evidence List -> Organize -> HTML Grid + JS Filter -> visual browsing of text content.
         CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->

    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #F3F4F6;
            color: #1F2937;
        }
        .font-mono {
            font-family: 'Courier Prime', monospace;
        }
        
        /* Chart Container Styling - Mandatory Strictness */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 650px; /* Constrained width for readability */
            height: 400px;    /* Default height */
            max-height: 450px;
            margin-left: auto;
            margin-right: auto;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }

        .stamp {
            border: 4px solid #DC2626;
            color: #DC2626;
            display: inline-block;
            padding: 0.5rem 1rem;
            transform: rotate(-3deg);
            font-weight: 800;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            opacity: 0.8;
            mask-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNk+A8AAQUBAScY42YAAAAASUVORK5CYII='); /* Simple noise mask concept, or just CSS borders */
        }

        .paper-card {
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border-top: 4px solid #2563EB;
        }

        .highlight-marker {
            background: linear-gradient(120deg, #FBBF24 0%, #FBBF24 100%);
            background-repeat: no-repeat;
            background-size: 100% 40%;
            background-position: 0 88%;
        }
    </style>
</head>
<body class="antialiased selection:bg-yellow-200 selection:text-black">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-gray-900 text-white shadow-lg border-b-4 border-red-600">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center space-x-3">
                    <span class="text-2xl">üáßüá™</span>
                    <span class="font-mono text-xl font-bold tracking-tighter">LEAKS<span class="text-red-500">.BE</span></span>
                </div>
                <div class="hidden md:flex space-x-8 text-sm font-medium">
                    <a href="#overview" class="hover:text-yellow-400 transition">VUE D'ENSEMBLE</a>
                    <a href="#trends" class="hover:text-yellow-400 transition">TENDANCES</a>
                    <a href="#regions" class="hover:text-yellow-400 transition">REGIONS</a>
                    <a href="#audit" class="px-4 py-2 bg-red-600 rounded hover:bg-red-700 transition">AUTO-AUDIT</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="bg-white border-b border-gray-200 py-12 md:py-20 relative overflow-hidden">
        <div class="absolute top-10 right-10 opacity-10 text-9xl select-none pointer-events-none">‚ö†Ô∏è</div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center">
            <div class="stamp mb-6 text-xl md:text-3xl">CONFIDENTIEL</div>
            <h1 class="text-4xl md:text-6xl font-extrabold text-gray-900 mb-6 leading-tight">
                L'AFFAIRE <span class="highlight-marker">TOUS FRAUDEURS</span>
            </h1>
            <p class="text-xl md:text-2xl text-gray-600 max-w-3xl mx-auto mb-8 font-light">
                Le rapport Deborsu-OuaisFieu r√©v√®le la v√©rit√© : en red√©finissant la fraude pour inclure les "petits arrangements", la Belgique enti√®re est hors-la-loi.
            </p>
            <div class="inline-flex items-center bg-yellow-100 text-yellow-800 px-4 py-2 rounded-full font-mono text-sm font-bold border border-yellow-300">
                <span class="animate-pulse mr-2">‚óè</span> SOURCE: GITHUB LEAK #2026-B
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-20">

        <!-- SECTION 1: GLOBAL OVERVIEW (Inform) -->
        <section id="overview" class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div class="order-2 lg:order-1">
                <div class="paper-card p-6 md:p-8">
                    <h3 class="text-gray-500 font-bold uppercase tracking-wide text-sm mb-2">Taux de Criminalit√© R√©el</h3>
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">L'Anomalie Statistique</h2>
                    <p class="text-gray-600 mb-6 leading-relaxed">
                        Selon les nouveaux crit√®res (vol de stylo, retard de 2 minutes, non-tri du carton), l'innocence est statistiquement impossible. Ce graphique repr√©sente la proportion de citoyens belges coupables d'au moins une "micro-fraude" quotidienne.
                    </p>
                    
                    <!-- Chart Container -->
                    <div class="chart-container h-80">
                        <canvas id="overviewChart"></canvas>
                    </div>
                    
                    <div class="mt-6 flex justify-center space-x-8 text-center">
                        <div>
                            <div class="text-3xl font-bold text-red-600">11.6M</div>
                            <div class="text-xs text-gray-500 uppercase font-bold">Suspects</div>
                        </div>
                        <div>
                            <div class="text-3xl font-bold text-blue-600">‚Ç¨0.50</div>
                            <div class="text-xs text-gray-500 uppercase font-bold">Co√ªt Moyen</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="order-1 lg:order-2 space-y-6">
                <h2 class="text-4xl font-bold text-gray-900">Une Nation de <br><span class="text-red-600">Criminels Ordinaires</span></h2>
                <p class="text-lg text-gray-600">
                    L'analyse des m√©tadonn√©es prouve que le respect absolu des r√®gles est une fiction. Les donn√©es suivantes exposent la r√©alit√© brutale de nos bureaux, de nos routes et de nos foyers.
                </p>
                <div class="grid grid-cols-1 gap-4">
                    <div class="flex items-center p-4 bg-white border-l-4 border-yellow-500 shadow-sm rounded-r">
                        <span class="text-2xl mr-4">üëÆ</span>
                        <div>
                            <h4 class="font-bold text-gray-900">Le Saviez-vous ?</h4>
                            <p class="text-sm text-gray-600">Recharger son t√©l√©phone au travail est techniquement un vol d'√©lectricit√©.</p>
                        </div>
                    </div>
                    <div class="flex items-center p-4 bg-white border-l-4 border-red-500 shadow-sm rounded-r">
                        <span class="text-2xl mr-4">‚òï</span>
                        <div>
                            <h4 class="font-bold text-gray-900">Risque Critique</h4>
                            <p class="text-sm text-gray-600">La pause caf√© de 10h15 co√ªte 3 milliards d'euros par an √† l'√âtat.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: TOP OFFENSES (Compare) -->
        <section id="offenses" class="bg-white rounded-xl shadow-lg p-8 border border-gray-200">
            <div class="max-w-3xl mx-auto text-center mb-10">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">Typologie des Micro-Crimes</h2>
                <p class="text-gray-600">
                    Quels sont les d√©lits les plus fr√©quents ? Le rapport classe les infractions par taux de p√©n√©tration dans la population active. Notez la pr√©valence inqui√©tante du vol de fournitures de bureau.
                </p>
            </div>

            <!-- Chart Container -->
            <div class="chart-container w-full h-96">
                <canvas id="offenseChart"></canvas>
            </div>
        </section>

        <!-- SECTION 3: TEMPORAL TRENDS (Change) -->
        <section id="trends" class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="md:col-span-1 bg-gray-900 text-white p-8 rounded-xl shadow-lg flex flex-col justify-center">
                <h2 class="text-3xl font-bold mb-4 text-yellow-400">Le Rythme du Crime</h2>
                <p class="text-gray-300 mb-6">
                    L'analyse temporelle r√©v√®le que la "fraude √† la productivit√©" n'est pas constante. Elle suit un cycle biologique pr√©cis, avec des pics corr√©l√©s aux besoins en caf√©ine et √† la digestion post-d√©jeuner.
                </p>
                <div class="bg-gray-800 p-4 rounded border border-gray-700">
                    <span class="text-xs font-mono text-gray-400">NOTE D'ANALYSTE:</span>
                    <p class="text-sm italic mt-2">"La chute de productivit√© de 15h00, dite 'le Coma Carbo', est le moment o√π le plus de shopping en ligne est effectu√©."</p>
                </div>
            </div>
            
            <div class="md:col-span-2 bg-white p-6 rounded-xl shadow-md border border-gray-200">
                <div class="mb-4 flex justify-between items-center">
                    <h3 class="font-bold text-gray-800">Productivit√© R√©elle vs Fraude Temporelle (24h)</h3>
                    <span class="text-xs bg-red-100 text-red-800 px-2 py-1 rounded font-bold">LIVE DATA</span>
                </div>
                <!-- Chart Container -->
                <div class="chart-container">
                    <canvas id="trendChart"></canvas>
                </div>
            </div>
        </section>

        <!-- SECTION 4: REGIONAL BREAKDOWN (Compare) -->
        <section id="regions" class="space-y-8">
            <div class="text-center">
                <span class="font-mono text-blue-600 font-bold tracking-widest uppercase">Analyse G√©ographique</span>
                <h2 class="text-3xl font-bold text-gray-900 mt-2">Le F√©d√©ralisme de la Fraude</h2>
                <p class="text-gray-600 mt-4 max-w-2xl mx-auto">
                    Chaque r√©gion poss√®de sa sp√©cialit√© culturelle en mati√®re d'infraction. La Flandre excelle dans l'optimisation fiscale du jardinage, tandis que Bruxelles domine le championnat du stationnement cr√©atif.
                </p>
            </div>

            <div class="bg-white p-6 md:p-10 rounded-xl shadow-lg border border-gray-200">
                <!-- Chart Container -->
                <div class="chart-container">
                    <canvas id="regionChart"></canvas>
                </div>
            </div>
        </section>

        <!-- SECTION 5: EVIDENCE GRID (Organize) -->
        <section id="evidence" class="bg-gray-50 border-t border-gray-200 pt-12">
            <div class="flex flex-col md:flex-row justify-between items-end mb-8 px-4">
                <div>
                    <h2 class="text-3xl font-bold text-gray-900">Le Casier Judiciaire</h2>
                    <p class="text-gray-600 mt-2">Exemples concrets extraits des dossiers confidentiels.</p>
                </div>
                <div class="mt-4 md:mt-0 space-x-2">
                    <button onclick="filterGrid('all')" class="px-4 py-2 bg-gray-800 text-white rounded shadow text-sm hover:bg-gray-700 font-medium">Tout</button>
                    <button onclick="filterGrid('Bureau')" class="px-4 py-2 bg-white text-gray-800 border border-gray-300 rounded shadow text-sm hover:bg-gray-50 font-medium">Bureau</button>
                    <button onclick="filterGrid('Transport')" class="px-4 py-2 bg-white text-gray-800 border border-gray-300 rounded shadow text-sm hover:bg-gray-50 font-medium">Transport</button>
                </div>
            </div>

            <div id="evidence-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- JS will populate this -->
            </div>
        </section>

        <!-- SECTION 6: INTERACTIVE AUDIT (Engagement) -->
        <section id="audit" class="relative bg-red-700 text-white rounded-2xl overflow-hidden shadow-2xl p-8 md:p-16 text-center">
            <div class="absolute inset-0 opacity-10 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj48ZyBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0wIDQwTDQwIDBIMjBMMCAyME00MCA0MFYyMEwwIDQwIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIvPjwvZz48L3N2Zz4=')]"></div>
            
            <div class="relative z-10 max-w-2xl mx-auto space-y-8">
                <h2 class="text-4xl font-extrabold tracking-tight">Outil d'Auto-D√©nonciation</h2>
                <p class="text-red-100 text-lg">
                    L'IA du gouvernement peut d√©terminer votre niveau de culpabilit√© avec une seule question calibr√©e psychologiquement.
                </p>

                <div id="quiz-block" class="bg-white text-gray-900 rounded-lg p-8 shadow-xl">
                    <h3 class="text-xl font-bold mb-6">
                        "Avez-vous d√©j√† utilis√© la toilette du bureau pour √©viter une t√¢che difficile pendant plus de 7 minutes ?"
                    </h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <button onclick="showResult(true)" class="py-4 bg-red-100 hover:bg-red-200 text-red-800 font-bold rounded-lg border-2 border-red-200 transition">
                            OUI (Coupable)
                        </button>
                        <button onclick="showResult(false)" class="py-4 bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold rounded-lg border-2 border-gray-200 transition">
                            NON (Menteur)
                        </button>
                    </div>
                </div>

                <div id="result-block" class="hidden bg-gray-900 text-white rounded-lg p-8 shadow-xl border-4 border-yellow-400">
                    <div class="text-6xl mb-4">üö®</div>
                    <h3 class="text-2xl font-bold text-yellow-400 mb-2">VERDICT : FRAUDEUR</h3>
                    <p id="result-text" class="text-gray-300 mb-4"></p>
                    <button onclick="resetQuiz()" class="text-sm text-gray-400 underline hover:text-white">Recommencer l'interrogatoire</button>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-900 text-gray-500 py-12 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="font-mono text-sm mb-4">CONFIDENTIEL // NE PAS DIFFUSER</p>
            <p class="text-xs max-w-lg mx-auto leading-relaxed">
                Ce tableau de bord est une ≈ìuvre satirique bas√©e sur le concept "Deborsu-OuaisFieu". Les donn√©es pr√©sent√©es sont fictives et destin√©es √† l'humour. Aucun citoyen n'a √©t√© r√©ellement arr√™t√© pour vol de stylo durant la cr√©ation de cette page.
            </p>
            <div class="mt-8 text-2xl opacity-50 space-x-4">
                <span>üìÇ</span><span>üáßüá™</span><span>üîí</span>
            </div>
        </div>
    </footer>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- UTILITY: Label Splitting for Chart.js (Requirement > 16 chars) ---
        function formatLabel(str, maxwidth) {
            if (typeof str !== 'string' || str.length <= maxwidth) return str;
            const sections = [];
            const words = str.split(' ');
            let temp = '';
            words.forEach(function(item, index) {
                if (temp.length > 0) {
                    const concat = temp + ' ' + item;
                    if (concat.length > maxwidth) {
                        sections.push(temp);
                        temp = item;
                    } else {
                        temp = concat;
                    }
                } else {
                    temp = item;
                }
                if (index === words.length - 1) {
                    sections.push(temp);
                }
            });
            return sections;
        }

        // --- SHARED CONFIG: Tooltip for Multiline Labels (Requirement) ---
        const commonTooltipOptions = {
            callbacks: {
                title: function(tooltipItems) {
                    const item = tooltipItems[0];
                    let label = item.chart.data.labels[item.dataIndex];
                    if (Array.isArray(label)) {
                        return label.join(' ');
                    } else {
                        return label;
                    }
                }
            }
        };

        // --- DATA SETS ---

        // 1. Overview Chart Data
        const overviewData = {
            labels: ['Citoyens "Purs"', 'Fraudeurs du Quotidien'],
            data: [0.1, 99.9],
            colors: ['#E5E7EB', '#DC2626'] // Grey vs Red
        };

        // 2. Offenses Data (Long labels to test wrapping)
        const offenseLabelsRaw = [
            "Vol de Fournitures (Stylos, Agrafes, Papier A4)",
            "Utilisation abusive du Smartphone aux toilettes",
            "Non-respect des r√®gles de tri s√©lectif (Carton/PMC)",
            "Consommation de nourriture odorante en Open Space",
            "Faux probl√®me technique pour √©viter une r√©union Teams"
        ];
        const offenseValues = [88, 76, 62, 45, 34];
        
        // Process labels
        const offenseLabelsProcessed = offenseLabelsRaw.map(l => formatLabel(l, 16));

        // 3. Trends Data (Line Chart)
        const timeLabels = ["08:00", "09:00", "10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00", "17:00"];
        const productivityData = [20, 80, 40, 75, 10, 5, 60, 20, 55, 10]; // Dips at coffee/lunch/3pm
        const fraudData = [5, 10, 90, 15, 80, 95, 20, 85, 25, 100]; // Spikes opposite to productivity

        // 4. Regional Data (Stacked)
        const regions = ['Flandre', 'Wallonie', 'Bruxelles'];
        // Categories: Fiscal (Garden), Traffic (Parking), Social (Noise)
        const regionalData = {
            fiscal: [80, 40, 20],
            traffic: [30, 50, 90],
            social: [40, 85, 60]
        };

        // 5. Evidence Data
        const evidenceItems = [
            { id: 1, type: "Bureau", title: "L'Affaire du Bic 4 Couleurs", desc: "Le suspect a empoch√© un stylo communal. Valeur: 1.20‚Ç¨." },
            { id: 2, type: "Transport", title: "Fraude au Clignotant", desc: "Changement de file sans signalisation sur le Ring. Classique." },
            { id: 3, type: "Bureau", title: "Impression Personnelle", desc: "Impression de 40 pages de coloriage pour enfants sur l'imprimante RH." },
            { id: 4, type: "Transport", title: "Resquille Escalator", desc: "A march√© sur la gauche alors qu'il voulait rester immobile." },
            { id: 5, type: "Bureau", title: "Vol de Lait", desc: "A fini la bouteille de lait commune sans la remplacer. Peine capitale demand√©e." },
            { id: 6, type: "Transport", title: "Parking Trottoir", desc: "A d√©clar√© 'J'en ai pour deux minutes' en se garant sur un passage pi√©ton." }
        ];

        // --- CHART INITIALIZATION ---

        window.onload = function() {
            // Chart 1: Overview Donut
            const ctxOverview = document.getElementById('overviewChart').getContext('2d');
            new Chart(ctxOverview, {
                type: 'doughnut',
                data: {
                    labels: overviewData.labels,
                    datasets: [{
                        data: overviewData.data,
                        backgroundColor: overviewData.colors,
                        borderWidth: 0,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { font: { family: 'Montserrat' } } },
                        tooltip: commonTooltipOptions
                    },
                    cutout: '70%'
                }
            });

            // Chart 2: Offenses Horizontal Bar
            const ctxOffense = document.getElementById('offenseChart').getContext('2d');
            new Chart(ctxOffense, {
                type: 'bar',
                data: {
                    labels: offenseLabelsProcessed,
                    datasets: [{
                        label: '% de la population',
                        data: offenseValues,
                        backgroundColor: '#2563EB',
                        borderRadius: 4
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { beginAtZero: true, max: 100, grid: { color: '#E5E7EB' } },
                        y: { grid: { display: false }, ticks: { font: { size: 11, family: 'Montserrat' } } }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: commonTooltipOptions
                    }
                }
            });

            // Chart 3: Trends Line
            const ctxTrend = document.getElementById('trendChart').getContext('2d');
            new Chart(ctxTrend, {
                type: 'line',
                data: {
                    labels: timeLabels,
                    datasets: [
                        {
                            label: 'Productivit√© R√©elle',
                            data: productivityData,
                            borderColor: '#10B981', // Green
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Activit√© Suspecte (Facebook/Pause)',
                            data: fraudData,
                            borderColor: '#DC2626', // Red
                            backgroundColor: 'rgba(220, 38, 38, 0.1)',
                            fill: true,
                            tension: 0.4,
                            borderDash: [5, 5]
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, max: 100, title: { display: true, text: 'Niveau (%)' } }
                    },
                    plugins: {
                        legend: { position: 'top' },
                        tooltip: commonTooltipOptions
                    }
                }
            });

            // Chart 4: Regions Stacked Bar
            const ctxRegion = document.getElementById('regionChart').getContext('2d');
            new Chart(ctxRegion, {
                type: 'bar',
                data: {
                    labels: regions,
                    datasets: [
                        { label: 'Fraude Jardinage/Fiscal', data: regionalData.fiscal, backgroundColor: '#FBBF24' }, // Yellow
                        { label: 'Infractions Routi√®res', data: regionalData.traffic, backgroundColor: '#6B7280' }, // Grey
                        { label: 'Nuisances Sonores', data: regionalData.social, backgroundColor: '#2563EB' } // Blue
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { stacked: true },
                        y: { stacked: true, beginAtZero: true }
                    },
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: commonTooltipOptions
                    }
                }
            });

            // Init Evidence Grid
            renderGrid(evidenceItems);
        };

        // --- INTERACTIVITY ---

        // Evidence Grid Logic
        function renderGrid(items) {
            const container = document.getElementById('evidence-grid');
            container.innerHTML = '';
            items.forEach(item => {
                const el = document.createElement('div');
                el.className = 'bg-white p-6 rounded shadow-sm border border-gray-100 hover:shadow-md transition';
                el.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <span class="text-xs font-bold uppercase tracking-wider ${item.type === 'Bureau' ? 'text-blue-600 bg-blue-50' : 'text-orange-600 bg-orange-50'} px-2 py-1 rounded">
                            ${item.type}
                        </span>
                        <span class="text-gray-300 text-xs">#${item.id}</span>
                    </div>
                    <h3 class="font-bold text-lg text-gray-800 mb-2">${item.title}</h3>
                    <p class="text-sm text-gray-600">${item.desc}</p>
                `;
                container.appendChild(el);
            });
        }

        function filterGrid(type) {
            if (type === 'all') {
                renderGrid(evidenceItems);
            } else {
                const filtered = evidenceItems.filter(i => i.type === type);
                renderGrid(filtered);
            }
        }

        // Quiz Logic
        function showResult(admitted) {
            const quizBlock = document.getElementById('quiz-block');
            const resultBlock = document.getElementById('result-block');
            const text = document.getElementById('result-text');
            
            quizBlock.classList.add('hidden');
            resultBlock.classList.remove('hidden');

            if (admitted) {
                text.innerText = "L'honn√™tet√© est louable, mais l'infraction est av√©r√©e. Votre dossier est transmis au service comp√©tent.";
            } else {
                text.innerText = "Votre d√©ni est statistiquement improbable. L'algorithme a d√©tect√© un mensonge. Aggravation de la peine de +50%.";
            }
        }

        function resetQuiz() {
            document.getElementById('quiz-block').classList.remove('hidden');
            document.getElementById('result-block').classList.add('hidden');
        }

    </script>
</body>
</html>
