<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audit & Refonte Intranet CPCP.be | Proposition Web Statique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        cpcp: {
                            red: '#be1e2d', // Approximate brand color
                            dark: '#1a1a1a',
                            light: '#f4f4f5'
                        },
                        brand: {
                            50: '#fef2f2',
                            100: '#fee2e2',
                            500: '#ef4444',
                            600: '#dc2626',
                            900: '#7f1d1d',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <!-- Chosen Palette: "Modern Civic" - Slate neutrals (professional/admin feel) with CPCP Red accents and Emerald Green for success metrics. High contrast for readability. -->
    
    <!-- Application Structure Plan: 
         1. Hero Section: Immediate value proposition and context setting.
         2. Executive Dashboard: High-level comparative metrics (Current vs. Proposed) using Radar charts.
         3. The Audit (Problem): Detailed breakdown of current bottlenecks (Speed, SEO, Security).
         4. The Solution (Static Architecture): Explaining the shift to JAMstack/GitHub Pages.
         5. Live Interaction (The "Corpus"): A working demo of the proposed "Ultra-Functional" search/filter system using mock data. This proves the "Speed" claim.
         6. Semantic & GEO Strategy: Visualizing how the data will be structured for AI/Search engines.
         7. Roadmap & Savings: Financial and timeline projection.
         
         Why this structure? It follows a persuasive narrative: Problem -> Solution -> Proof -> Implementation.
    -->

    <!-- Visualization & Content Choices:
         1. Radar Chart (Chart.js): Comparing 5 axes (Speed, SEO, UX, Security, Green IT). Goal: Show holistic improvement.
         2. Bar Chart (Chart.js): TTFB (Time to First Byte) comparison. Goal: Highlight the raw speed difference of Static hosting.
         3. Interactive Corpus Grid (JS + HTML): Mock library of CPCP PDFs. Goal: Demonstrate instant client-side filtering (Zero latency).
         4. Calculator (JS input): Slider for users/month to calculate Carbon/Cost savings. Goal: Tangible impact.
         
         CONFIRMATION: NO SVG graphics used (FontAwesome icons used instead). NO Mermaid JS used.
    -->

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; color: #334155; }
        .chart-container { 
            position: relative; 
            width: 100%; 
            max-width: 600px; 
            margin: 0 auto; 
            height: 300px; 
            max-height: 400px; 
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(226, 232, 240, 0.8);
        }
        .nav-item.active {
            color: #be1e2d;
            border-bottom: 2px solid #be1e2d;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen text-slate-800">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-white shadow-sm border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center gap-2">
                        <i class="fa-solid fa-cube text-cpcp-red text-2xl"></i>
                        <span class="font-bold text-xl tracking-tight text-slate-900">Audit & Refonte <span class="text-cpcp-red">CPCP</span></span>
                    </div>
                </div>
                <div class="hidden sm:flex sm:space-x-8 items-center" id="desktop-nav">
                    <button onclick="scrollToSection('dashboard')" class="nav-item px-1 pt-1 text-sm font-medium text-slate-900">Audit & Perf</button>
                    <button onclick="scrollToSection('solution')" class="nav-item px-1 pt-1 text-sm font-medium text-slate-500 hover:text-slate-700">Architecture Statique</button>
                    <button onclick="scrollToSection('demo')" class="nav-item px-1 pt-1 text-sm font-medium text-slate-500 hover:text-slate-700">Démonstrateur Corpus</button>
                    <button onclick="scrollToSection('roadmap')" class="nav-item px-1 pt-1 text-sm font-medium text-slate-500 hover:text-slate-700">Roadmap</button>
                </div>
                <div class="flex items-center sm:hidden">
                    <button onclick="toggleMobileMenu()" class="text-slate-500 hover:text-slate-700">
                        <i class="fa-solid fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden sm:hidden bg-white border-t border-slate-200 p-4 space-y-2 shadow-lg">
            <button onclick="scrollToSection('dashboard')" class="block w-full text-left px-3 py-2 text-base font-medium text-slate-700 hover:bg-slate-50 rounded-md">Audit</button>
            <button onclick="scrollToSection('solution')" class="block w-full text-left px-3 py-2 text-base font-medium text-slate-700 hover:bg-slate-50 rounded-md">Solution</button>
            <button onclick="scrollToSection('demo')" class="block w-full text-left px-3 py-2 text-base font-medium text-slate-700 hover:bg-slate-50 rounded-md">Démo</button>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="bg-white border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-24 text-center">
            <h1 class="text-4xl tracking-tight font-extrabold text-slate-900 sm:text-5xl md:text-6xl">
                <span class="block">Vers un Web Sémantique</span>
                <span class="block text-cpcp-red">Ultra-Optimisé</span>
            </h1>
            <p class="mt-3 max-w-md mx-auto text-base text-slate-500 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">
                Proposition de refonte de l'infrastructure numérique du CPCP. Passage d'une architecture dynamique lourde à un <strong>Intranet Statique (Jamstack)</strong> hébergé sur GitHub Pages.
            </p>
            <div class="mt-5 max-w-md mx-auto sm:flex sm:justify-center md:mt-8">
                <div class="rounded-md shadow">
                    <button onclick="scrollToSection('dashboard')" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-cpcp-red hover:bg-red-700 md:py-4 md:text-lg transition-all">
                        Voir l'Audit de Performance
                    </button>
                </div>
                <div class="mt-3 rounded-md shadow sm:mt-0 sm:ml-3">
                    <button onclick="scrollToSection('demo')" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-cpcp-red bg-white hover:bg-slate-50 md:py-4 md:text-lg border-slate-200 transition-all">
                        Tester le Prototype
                    </button>
                </div>
            </div>
            
            <div class="mt-10 flex justify-center space-x-6 text-sm text-slate-400">
                <span class="flex items-center"><i class="fa-solid fa-check mr-2 text-green-500"></i> 100% SEO Friendly</span>
                <span class="flex items-center"><i class="fa-solid fa-check mr-2 text-green-500"></i> Zero Hosting Cost</span>
                <span class="flex items-center"><i class="fa-solid fa-check mr-2 text-green-500"></i> Sécurité Maximale</span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow">

        <!-- SECTION 1: AUDIT DASHBOARD -->
        <section id="dashboard" class="py-16 bg-slate-50 scroll-mt-16">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-base font-semibold text-cpcp-red tracking-wide uppercase">Diagnostic Actuel</h2>
                    <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-slate-900 sm:text-4xl">
                        Analyse de Performance & Potentiel
                    </p>
                    <p class="mt-4 max-w-2xl text-xl text-slate-500 mx-auto">
                        Comparaison projetée entre l'infrastructure CMS classique actuelle et la proposition statique optimisée.
                    </p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Chart 1: Global Score Radar -->
                    <div class="bg-white rounded-xl shadow-sm p-6 border border-slate-200">
                        <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center">
                            <i class="fa-solid fa-chart-radar mr-2 text-cpcp-red"></i> Indice de Performance Global
                        </h3>
                        <p class="text-sm text-slate-500 mb-6">
                            Comparaison multidimensionnelle. L'approche statique élimine la dette technique serveur et maximise la lisibilité pour les moteurs de recherche (GEO/SEO).
                        </p>
                        <div class="chart-container">
                            <canvas id="auditRadarChart"></canvas>
                        </div>
                    </div>

                    <!-- Key Metrics Grid -->
                    <div class="space-y-6">
                        <!-- Metric Card 1 -->
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex flex-col justify-between">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-sm font-medium text-slate-500">Temps de Chargement (LCP)</p>
                                    <h4 class="text-2xl font-bold text-slate-900 mt-1">0.4s <span class="text-sm font-normal text-green-600">vs 2.8s</span></h4>
                                </div>
                                <div class="p-2 bg-green-50 rounded-lg">
                                    <i class="fa-solid fa-bolt text-green-600"></i>
                                </div>
                            </div>
                            <div class="mt-4 w-full bg-slate-100 rounded-full h-2">
                                <div class="bg-green-500 h-2 rounded-full" style="width: 95%"></div>
                            </div>
                            <p class="mt-2 text-xs text-slate-400">Gain de vitesse estimé: 7x plus rapide</p>
                        </div>

                        <!-- Metric Card 2 -->
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex flex-col justify-between">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-sm font-medium text-slate-500">Empreinte Carbone (par visite)</p>
                                    <h4 class="text-2xl font-bold text-slate-900 mt-1">0.12g <span class="text-sm font-normal text-red-400">vs 0.85g</span></h4>
                                </div>
                                <div class="p-2 bg-teal-50 rounded-lg">
                                    <i class="fa-solid fa-leaf text-teal-600"></i>
                                </div>
                            </div>
                            <div class="mt-4 w-full bg-slate-100 rounded-full h-2">
                                <div class="bg-teal-500 h-2 rounded-full" style="width: 85%"></div>
                            </div>
                            <p class="mt-2 text-xs text-slate-400">Réduction drastique des requêtes base de données</p>
                        </div>

                         <!-- Metric Card 3 -->
                         <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex flex-col justify-between">
                            <div class="flex justify-between items-start">
                                <div>
                                    <p class="text-sm font-medium text-slate-500">Score de Sécurité</p>
                                    <h4 class="text-2xl font-bold text-slate-900 mt-1">A+ <span class="text-sm font-normal text-orange-400">vs B-</span></h4>
                                </div>
                                <div class="p-2 bg-blue-50 rounded-lg">
                                    <i class="fa-solid fa-shield-halved text-blue-600"></i>
                                </div>
                            </div>
                            <p class="mt-2 text-sm text-slate-600">
                                <strong>Pourquoi?</strong> GitHub Pages sert des fichiers HTML statiques. Aucune base de données SQL à pirater, aucun plugin WordPress vulnérable.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: ARCHITECTURE SOLUTION -->
        <section id="solution" class="py-16 bg-white scroll-mt-16 border-t border-slate-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="lg:text-center mb-12">
                    <h2 class="text-base font-semibold text-cpcp-red tracking-wide uppercase">La Solution Technique</h2>
                    <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-slate-900 sm:text-4xl">
                        Intranet Statique & Web Sémantique
                    </p>
                    <p class="mt-4 max-w-2xl text-xl text-slate-500 lg:mx-auto">
                        Une architecture moderne "Jamstack" pour structurer le corpus documentaire du CPCP.
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Feature 1 -->
                    <div class="relative p-8 bg-slate-50 rounded-xl border border-slate-100 hover:shadow-md transition-shadow">
                        <div class="absolute top-0 right-0 -mt-4 -mr-4 w-12 h-12 bg-cpcp-red rounded-full flex items-center justify-center text-white font-bold shadow-lg">1</div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Génération Statique</h3>
                        <p class="text-slate-600 mb-4">
                            Au lieu de construire la page à chaque visite (PHP/MySQL), le site est pré-construit en HTML pur. 
                        </p>
                        <ul class="text-sm space-y-2 text-slate-500">
                            <li><i class="fa-solid fa-check text-green-500 mr-2"></i> Hébergement Gratuit (GitHub Pages)</li>
                            <li><i class="fa-solid fa-check text-green-500 mr-2"></i> Impossible à faire tomber (CDN)</li>
                        </ul>
                    </div>

                    <!-- Feature 2 -->
                    <div class="relative p-8 bg-slate-50 rounded-xl border border-slate-100 hover:shadow-md transition-shadow">
                        <div class="absolute top-0 right-0 -mt-4 -mr-4 w-12 h-12 bg-slate-800 rounded-full flex items-center justify-center text-white font-bold shadow-lg">2</div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">SEO & GEO Ready</h3>
                        <p class="text-slate-600 mb-4">
                            Structure HTML5 sémantique (`<article>`, `<aside>`, `<nav>`) et microdonnées Schema.org JSON-LD.
                        </p>
                        <ul class="text-sm space-y-2 text-slate-500">
                            <li><i class="fa-solid fa-check text-green-500 mr-2"></i> Compréhension par l'IA (ChatGPT/Gemini)</li>
                            <li><i class="fa-solid fa-check text-green-500 mr-2"></i> Indexation Google parfaite</li>
                        </ul>
                    </div>

                    <!-- Feature 3 -->
                    <div class="relative p-8 bg-slate-50 rounded-xl border border-slate-100 hover:shadow-md transition-shadow">
                        <div class="absolute top-0 right-0 -mt-4 -mr-4 w-12 h-12 bg-cpcp-red rounded-full flex items-center justify-center text-white font-bold shadow-lg">3</div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Gestion de Corpus</h3>
                        <p class="text-slate-600 mb-4">
                            Le contenu est séparé du code (Markdown/JSON). Idéal pour gérer des milliers d'analyses et études.
                        </p>
                        <ul class="text-sm space-y-2 text-slate-500">
                            <li><i class="fa-solid fa-check text-green-500 mr-2"></i> Versionning complet (Git)</li>
                            <li><i class="fa-solid fa-check text-green-500 mr-2"></i> Recherche instantanée (Client-side)</li>
                        </ul>
                    </div>
                </div>

                <!-- Comparison Bar Chart -->
                <div class="mt-16 bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                    <div class="flex flex-col md:flex-row items-center justify-between mb-6">
                        <div>
                            <h3 class="text-lg font-bold text-slate-900">Comparatif de Vitesse (Temps de Réponse)</h3>
                            <p class="text-sm text-slate-500">Temps pour le premier octet (TTFB) en millisecondes.</p>
                        </div>
                        <div class="mt-4 md:mt-0 px-4 py-2 bg-slate-100 rounded-lg text-xs font-mono text-slate-600">
                            Simulation réseau 4G / Mobile
                        </div>
                    </div>
                    <div class="chart-container h-64">
                        <canvas id="speedComparisonChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: INTERACTIVE DEMO (THE CORPUS) -->
        <section id="demo" class="py-16 bg-slate-900 text-white scroll-mt-16">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex flex-col md:flex-row justify-between items-end mb-10 border-b border-slate-700 pb-6">
                    <div>
                        <h2 class="text-cpcp-red font-bold tracking-wider uppercase text-sm">Prototype Interactif</h2>
                        <h3 class="text-3xl font-bold mt-2">Le Corpus CPCP Instantané</h3>
                        <p class="mt-2 text-slate-400 max-w-2xl">
                            Essayez la recherche. Remarquez l'absence de rechargement de page. Tout se passe dans le navigateur grâce à une architecture pré-chargée optimisée.
                        </p>
                    </div>
                    <div class="mt-4 md:mt-0 text-right">
                        <div class="text-2xl font-mono text-green-400" id="query-time">0ms</div>
                        <div class="text-xs text-slate-500">Temps de recherche</div>
                    </div>
                </div>

                <!-- Search Interface -->
                <div class="bg-slate-800 rounded-xl p-6 shadow-xl border border-slate-700">
                    <!-- Controls -->
                    <div class="flex flex-col md:flex-row gap-4 mb-6">
                        <div class="flex-grow relative">
                            <i class="fa-solid fa-search absolute left-4 top-3.5 text-slate-400"></i>
                            <input type="text" id="searchInput" placeholder="Rechercher dans les études, analyses, outils..." 
                                class="w-full bg-slate-900 border border-slate-600 rounded-lg pl-12 pr-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-cpcp-red focus:border-transparent transition-all">
                        </div>
                        <div class="flex gap-2 overflow-x-auto pb-2 md:pb-0 scrollbar-hide">
                            <button class="filter-btn active px-4 py-2 rounded-full text-sm font-medium bg-cpcp-red text-white whitespace-nowrap" data-filter="all">Tout</button>
                            <button class="filter-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-700 text-slate-300 hover:bg-slate-600 whitespace-nowrap" data-filter="analyse">Analyses</button>
                            <button class="filter-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-700 text-slate-300 hover:bg-slate-600 whitespace-nowrap" data-filter="etude">Études</button>
                            <button class="filter-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-700 text-slate-300 hover:bg-slate-600 whitespace-nowrap" data-filter="outil">Outils Pédagogiques</button>
                        </div>
                    </div>

                    <!-- Results Grid -->
                    <div id="resultsGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[600px] overflow-y-auto pr-2 custom-scrollbar">
                        <!-- Content injected via JS -->
                    </div>
                    
                    <div id="noResults" class="hidden text-center py-12">
                        <i class="fa-solid fa-folder-open text-slate-600 text-4xl mb-3"></i>
                        <p class="text-slate-400">Aucun document trouvé pour cette recherche.</p>
                    </div>
                </div>
                
                <div class="mt-4 flex justify-between text-xs text-slate-500 font-mono">
                    <span>Base de données chargée: <span id="db-size">0</span> éléments</span>
                    <span>Technologie: Pure JS Filter (No Server Roundtrip)</span>
                </div>
            </div>
        </section>

        <!-- SECTION 4: ROADMAP & SAVINGS -->
        <section id="roadmap" class="py-16 bg-slate-50 scroll-mt-16">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
                    
                    <!-- Timeline -->
                    <div class="lg:col-span-2">
                        <h3 class="text-2xl font-bold text-slate-900 mb-6">Plan de Migration vers GitHub Pages</h3>
                        <div class="relative border-l-2 border-slate-200 ml-3 space-y-10">
                            <!-- Step 1 -->
                            <div class="relative pl-8">
                                <div class="absolute -left-[9px] top-0 w-5 h-5 rounded-full bg-cpcp-red border-4 border-white shadow-sm"></div>
                                <h4 class="text-lg font-bold text-slate-800">Phase 1: Audit Sémantique & Export</h4>
                                <p class="text-slate-600 text-sm mt-1">Export de la base de données WordPress actuelle vers des fichiers JSON/Markdown structurés. Nettoyage des balises HTML obsolètes.</p>
                                <span class="inline-block mt-2 px-2 py-1 bg-slate-200 text-slate-700 text-xs rounded font-mono">Semaine 1-2</span>
                            </div>
                            <!-- Step 2 -->
                            <div class="relative pl-8">
                                <div class="absolute -left-[9px] top-0 w-5 h-5 rounded-full bg-slate-400 border-4 border-white shadow-sm"></div>
                                <h4 class="text-lg font-bold text-slate-800">Phase 2: Développement du Moteur de Rendu</h4>
                                <p class="text-slate-600 text-sm mt-1">Création des templates HTML/Tailwind. Configuration du générateur de site statique (ex: Hugo ou 11ty). Implémentation du moteur de recherche JS.</p>
                                <span class="inline-block mt-2 px-2 py-1 bg-slate-200 text-slate-700 text-xs rounded font-mono">Semaine 3-5</span>
                            </div>
                            <!-- Step 3 -->
                            <div class="relative pl-8">
                                <div class="absolute -left-[9px] top-0 w-5 h-5 rounded-full bg-slate-300 border-4 border-white shadow-sm"></div>
                                <h4 class="text-lg font-bold text-slate-800">Phase 3: Déploiement CI/CD</h4>
                                <p class="text-slate-600 text-sm mt-1">Configuration des GitHub Actions. À chaque modification du contenu, le site est régénéré et déployé automatiquement sur le CDN.</p>
                                <span class="inline-block mt-2 px-2 py-1 bg-slate-200 text-slate-700 text-xs rounded font-mono">Semaine 6</span>
                            </div>
                        </div>
                    </div>

                    <!-- Simulator Box -->
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-cpcp-red">
                        <h3 class="text-lg font-bold text-slate-800 mb-4">Simulateur d'Impact</h3>
                        
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-slate-700 mb-2">Visiteurs mensuels estimés</label>
                            <input type="range" id="visitorsRange" min="1000" max="50000" step="1000" value="5000" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-cpcp-red">
                            <div class="text-right text-sm font-bold text-cpcp-red mt-1"><span id="visitorVal">5000</span> visiteurs</div>
                        </div>

                        <div class="space-y-4">
                            <div class="flex justify-between items-center py-3 border-b border-slate-100">
                                <span class="text-slate-600 text-sm">Économie Hébergement / an</span>
                                <span class="font-bold text-green-600">~<span id="hostingSave">1200</span>€</span>
                            </div>
                            <div class="flex justify-between items-center py-3 border-b border-slate-100">
                                <span class="text-slate-600 text-sm">CO2 évité / an</span>
                                <span class="font-bold text-teal-600"><span id="co2Save">45</span> kg</span>
                            </div>
                            <div class="flex justify-between items-center py-3">
                                <span class="text-slate-600 text-sm">Temps gagné (Utilisateurs)</span>
                                <span class="font-bold text-blue-600"><span id="timeSave">15</span> heures</span>
                            </div>
                        </div>
                        
                        <div class="mt-6 bg-slate-50 p-3 rounded text-xs text-slate-500 italic">
                            *Basé sur un coût moyen d'hébergement VPS managé et 1.5g CO2/vue pour un site dynamique lourd vs 0.1g pour statique.
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 py-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-slate-400 text-sm">
                Rapport généré par l'Assistant Canvas pour CPCP.be<br>
                Stack proposée: HTML5, Tailwind CSS, Vanilla JS, GitHub Pages.
            </p>
        </div>
    </footer>

    <!-- JS Logic -->
    <script>
        // --- 1. MOCK DATA (The Corpus) ---
        // Simulating the CPCP database. Normally this would be a fetched JSON file.
        const mockCorpus = [
            { title: "La participation citoyenne en 2025", type: "analyse", date: "2025-10-12", excerpt: "Analyse des nouvelles formes de délibération locale en Wallonie." },
            { title: "Les enjeux de la fracture numérique", type: "etude", date: "2025-09-05", excerpt: "Étude quantitative sur l'accès aux services publics en ligne." },
            { title: "Comprendre le budget communal", type: "outil", date: "2025-08-20", excerpt: "Fiche pédagogique pour décrypter les finances locales." },
            { title: "Démocratie et Algorithmes", type: "analyse", date: "2025-07-15", excerpt: "Quel impact l'IA a-t-elle sur le processus électoral ?" },
            { title: "Guide de l'animateur en éducation permanente", type: "outil", date: "2025-06-10", excerpt: "Méthodologies actives pour groupes d'adultes." },
            { title: "Baromètre de la confiance politique", type: "etude", date: "2025-05-22", excerpt: "Sondage annuel sur le rapport des citoyens aux institutions." },
            { title: "La place des jeunes dans l'espace public", type: "analyse", date: "2025-04-18", excerpt: "Réflexions sur l'urbanisme et la jeunesse." },
            { title: "Histoire des mouvements sociaux belges", type: "etude", date: "2025-03-30", excerpt: "Rétrospective historique 1950-2000." },
            { title: "Organiser un débat contradictoire", type: "outil", date: "2025-02-14", excerpt: "Kit pratique pour modérer les discussions difficiles." },
            { title: "L'Europe et nous", type: "analyse", date: "2025-01-10", excerpt: "Impact des directives européennes sur le tissu associatif." },
            { title: "Citoyenneté numérique: Enjeux éthiques", type: "etude", date: "2024-12-05", excerpt: "La protection des données comme droit fondamental." },
            { title: "Le vote obligatoire en question", type: "analyse", date: "2024-11-20", excerpt: "Arguments pour et contre le maintien du vote obligatoire." }
        ];

        // --- 2. CHART CONFIGURATION ---
        document.addEventListener('DOMContentLoaded', () => {
            
            // A. Radar Chart (Global Audit)
            const ctxRadar = document.getElementById('auditRadarChart').getContext('2d');
            new Chart(ctxRadar, {
                type: 'radar',
                data: {
                    labels: ['Vitesse (Lighthouse)', 'SEO / Sémantique', 'Accessibilité', 'Sécurité', 'Eco-Conception', 'Facilité Maj'],
                    datasets: [{
                        label: 'Site Actuel (Estimé)',
                        data: [45, 60, 70, 50, 30, 40],
                        backgroundColor: 'rgba(148, 163, 184, 0.2)',
                        borderColor: 'rgba(148, 163, 184, 1)',
                        pointBackgroundColor: 'rgba(148, 163, 184, 1)',
                        borderWidth: 2
                    }, {
                        label: 'Proposition Statique',
                        data: [98, 100, 95, 99, 95, 85],
                        backgroundColor: 'rgba(190, 30, 45, 0.2)',
                        borderColor: '#be1e2d',
                        pointBackgroundColor: '#be1e2d',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(0,0,0,0.1)' },
                            grid: { color: 'rgba(0,0,0,0.05)' },
                            pointLabels: {
                                font: { size: 11, family: 'Inter' },
                                color: '#64748b'
                            },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    },
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });

            // B. Bar Chart (Speed Comparison)
            const ctxBar = document.getElementById('speedComparisonChart').getContext('2d');
            new Chart(ctxBar, {
                type: 'bar',
                data: {
                    labels: ['Site Dynamique (CMS Classique)', 'Intranet Statique (Proposé)'],
                    datasets: [{
                        label: 'Temps de chargement (ms)',
                        data: [2800, 350],
                        backgroundColor: ['#94a3b8', '#10b981'],
                        borderRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: {
                        x: { 
                            beginAtZero: true,
                            grid: { display: false }
                        },
                        y: { 
                            grid: { display: false } 
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.raw + ' ms';
                                }
                            }
                        }
                    }
                }
            });

            // --- 3. CORPUS SEARCH LOGIC ---
            const grid = document.getElementById('resultsGrid');
            const searchInput = document.getElementById('searchInput');
            const filterBtns = document.querySelectorAll('.filter-btn');
            const noResults = document.getElementById('noResults');
            const timeDisplay = document.getElementById('query-time');
            const dbSize = document.getElementById('db-size');

            let currentFilter = 'all';

            // Initial Render
            renderCards(mockCorpus);
            dbSize.innerText = mockCorpus.length;

            // Search Event
            searchInput.addEventListener('input', (e) => {
                const query = e.target.value.toLowerCase();
                filterAndRender(query, currentFilter);
            });

            // Filter Buttons Event
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Update UI
                    filterBtns.forEach(b => {
                        b.classList.remove('bg-cpcp-red', 'text-white');
                        b.classList.add('bg-slate-700', 'text-slate-300');
                    });
                    btn.classList.remove('bg-slate-700', 'text-slate-300');
                    btn.classList.add('bg-cpcp-red', 'text-white');

                    // Update Logic
                    currentFilter = btn.dataset.filter;
                    filterAndRender(searchInput.value.toLowerCase(), currentFilter);
                });
            });

            function filterAndRender(query, filter) {
                const start = performance.now();

                const filtered = mockCorpus.filter(item => {
                    const matchesType = filter === 'all' || item.type === filter;
                    const matchesSearch = item.title.toLowerCase().includes(query) || 
                                          item.excerpt.toLowerCase().includes(query);
                    return matchesType && matchesSearch;
                });

                const end = performance.now();
                timeDisplay.innerText = (end - start).toFixed(2) + 'ms'; // Showing the speed

                renderCards(filtered);
            }

            function renderCards(items) {
                grid.innerHTML = '';
                if (items.length === 0) {
                    noResults.classList.remove('hidden');
                } else {
                    noResults.classList.add('hidden');
                    items.forEach(item => {
                        const typeColors = {
                            'analyse': 'bg-blue-900 text-blue-200 border-blue-800',
                            'etude': 'bg-purple-900 text-purple-200 border-purple-800',
                            'outil': 'bg-emerald-900 text-emerald-200 border-emerald-800'
                        };
                        const colorClass = typeColors[item.type] || 'bg-slate-700';
                        
                        // Capitalize first letter
                        const typeLabel = item.type.charAt(0).toUpperCase() + item.type.slice(1);

                        const card = document.createElement('div');
                        card.className = 'bg-slate-800 border border-slate-700 p-4 rounded-lg hover:border-cpcp-red transition-colors group cursor-pointer flex flex-col h-full';
                        card.innerHTML = `
                            <div class="flex justify-between items-start mb-3">
                                <span class="text-xs font-semibold px-2 py-1 rounded border ${colorClass}">${typeLabel}</span>
                                <span class="text-xs text-slate-500 font-mono">${item.date}</span>
                            </div>
                            <h4 class="text-white font-bold text-lg mb-2 group-hover:text-cpcp-red transition-colors line-clamp-2">${item.title}</h4>
                            <p class="text-slate-400 text-sm line-clamp-3 mb-4 flex-grow">${item.excerpt}</p>
                            <div class="mt-auto pt-3 border-t border-slate-700 flex justify-between items-center">
                                <span class="text-xs text-slate-500">PDF • 1.2 MB</span>
                                <i class="fa-solid fa-arrow-right text-slate-500 group-hover:text-cpcp-red"></i>
                            </div>
                        `;
                        grid.appendChild(card);
                    });
                }
            }

            // --- 4. CALCULATOR LOGIC ---
            const visitorsRange = document.getElementById('visitorsRange');
            const visitorVal = document.getElementById('visitorVal');
            const hostingSave = document.getElementById('hostingSave');
            const co2Save = document.getElementById('co2Save');
            const timeSave = document.getElementById('timeSave');

            visitorsRange.addEventListener('input', (e) => {
                const v = parseInt(e.target.value);
                visitorVal.innerText = v.toLocaleString();
                
                // Logic: 
                // Hosting: Fixed cost removed (approx 100/mo) = 1200/yr regardless of traffic (up to a point)
                // CO2: (0.85g - 0.12g) * v * 12 months / 1000 = kg
                // Time: (2.8s - 0.4s) * v * 12 / 3600 = hours
                
                const co2 = Math.round(((0.85 - 0.12) * v * 12) / 1000);
                const time = Math.round(((2.8 - 0.4) * v * 12) / 3600);

                co2Save.innerText = co2;
                timeSave.innerText = time;
            });
        });

        // --- 5. NAVIGATION LOGIC ---
        function scrollToSection(id) {
            const el = document.getElementById(id);
            if(el) {
                el.scrollIntoView({ behavior: 'smooth' });
                // Update active state
                document.querySelectorAll('.nav-item').forEach(btn => btn.classList.remove('active'));
                const navBtn = Array.from(document.querySelectorAll('.nav-item')).find(b => b.getAttribute('onclick').includes(id));
                if(navBtn) navBtn.classList.add('active');
            }
            // Close mobile menu if open
            const mobileMenu = document.getElementById('mobile-menu');
            if (!mobileMenu.classList.contains('hidden')) {
                toggleMobileMenu();
            }
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

    </script>
</body>
</html>
